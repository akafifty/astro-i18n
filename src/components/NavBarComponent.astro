---
import LanguagePicker from "@/components/LanguagePicker.astro";
import {
    getLangFromUrl,
    useTranslatedPath,
    useTranslations,
} from "../i18n/utils";
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
const currentPath = Astro.url.pathname;
---

<nav class="bg-white px-6 py-4 flex flex-row justify-between shadow">
    <ul class="flex space-x-4 items-center text-gray-700 font-medium">
        <li>
            <a
                href={translatePath("/")}
                class={`py-2 px-4 rounded-lg hover:bg-blue-500 hover:text-white ${
                    currentPath === translatePath("/") ||
                    currentPath === translatePath("/en/")
                        ? "bg-blue-700  text-white"
                        : ""
                }`}
            >
                {t("nav.index")}
            </a>
        </li>
        <li>
            <a
                href={translatePath("/about/")}
                class={`py-2 px-4 rounded-lg hover:bg-blue-500 hover:text-white 
                ${currentPath === translatePath("/about/") ? " bg-blue-700 text-white" : ""}`}
            >
                {t("nav.about")}
            </a>
        </li>
    </ul>

    <LanguagePicker />
</nav>
